From: Kai Wasserb√§ch <curan@debian.org>
Description: Use Gtk's libdir as install prefix for the engine
 Ask pkg-config for the libdir, this allows an easy multiarch
 installation of the engine. Otherwise we'd need to pass
 "-DLIB_SUFFIX=/$(DEB_HOST_MULTIARCH)" to CMake during configuration,
 which makes backporting more complex than needed. (Now you only need
 to lower the B-Ds on debhelper and libgtk2.0-dev).
Last-Update: 2011-09-12
Bug: https://bugs.kde.org/show_bug.cgi?id=281857
Forwarded: https://bugs.kde.org/attachment.cgi?id=63581
---
 CMakeLists.txt |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -101,7 +101,12 @@ exec_program(
 	ARGS --variable=gtk_binary_version gtk+-2.0
 	OUTPUT_VARIABLE GTK_BIN_VERSION )
 
-set( INSTALL_PATH_GTK_ENGINES "${CMAKE_INSTALL_PREFIX}/lib${LIB_SUFFIX}/gtk-2.0/${GTK_BIN_VERSION}/engines" CACHE PATH "The directory in which to install the theme engine library( eg. /usr/lib/gtk-2.0/2.4.0/engines )" )
+exec_program(
+  ${PKGCONFIG_EXECUTABLE}
+  ARGS --variable=libdir gtk+-2.0
+  OUTPUT_VARIABLE GTK_LIBDIR_PREFIX )
+
+set( INSTALL_PATH_GTK_ENGINES "${GTK_LIBDIR_PREFIX}/gtk-2.0/${GTK_BIN_VERSION}/engines" CACHE PATH "The directory in which to install the theme engine library( eg. /usr/lib/gtk-2.0/2.4.0/engines )" )
 set( INSTALL_PATH_GTK_THEMES "${CMAKE_INSTALL_PREFIX}/share/themes" CACHE PATH "The directory in which to install the theme data( eg. /usr/share/themes )" )
 set( GTK_THEME_DIR ${INSTALL_PATH_GTK_THEMES}/oxygen-gtk )
 
